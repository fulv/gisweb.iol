<tal:def tal:define="    hsize python:options['field'].getSettings('size') or 400;    mode python: str(context.REQUEST.PARENTS[0].isEditMode()).lower();    custom_attributes python:options['field'].Schema()['custom_attributes'].getAccessor(options['field'])();    id options/fieldname;    v options/fieldvalue;    mapoptions python: v or custom_attributes;   "><input type="hidden" tal:attributes='name id;id string:${id}-options;value mapoptions'><style tal:content="structure string:#${id} img {max-width: none}"></style><div class="row-fluid"><div tal:attributes="        id string:${id};        style string:height:${hsize}px;"></div></div><script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&libraries=drawing"></script><script type="text/javascript" tal:content="structure string://<![CDATA[//NOTA: SE HO DEI VALORI CALCOLATI PER IL CAMPO (GEOMETRIE O ALTRO) LI SETTO QUI.... BOH DA RIVEDERE    var v = ${mapoptions};    if(typeof(v)=='object') jq.plominoMaps.gMaps['${id}'] = v;    jq.plominoMaps.gMaps['${id}'].pippo = function(){(alert('pippo'))}    jq.plominoMaps.gMaps['${id}'].pluto = function(){(alert('pluto'))};//]]>"></script></tal:def>