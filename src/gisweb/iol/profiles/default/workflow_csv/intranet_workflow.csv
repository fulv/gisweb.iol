[Workflow]
Id:,intranet_workflow
Title:,Intranet/Extranet Workflow
Description:,"- An intranet workflow where content is only accessible if you are logged in. - Basic states are: Internal Draft, Pending Review, Internally Published and Private. - Also has an Externally Published state, so you can make selected content available to people outside the intranet."
Initial state:,internal
Type:,Workflow
State variable:,review_state

[State]
Id:,external
Title:,Externally visible
Description:,"Visible to people outside the intranet, not editable by the owner."
Transitions,retract
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor,Member,Reviewer,Site Administrator
Access contents information,N,Y,N,N,N,N,N,N,N,N
View,N,Y,N,N,N,N,N,N,N,N
Modify portal content,N,N,Y,N,N,N,N,N,N,Y
Change portal events,N,N,Y,N,N,N,N,N,N,Y

[State]
Id:,internal
Title:,Internal draft
Description:,"Visible to all intranet users, editable by the owner."
Transitions,"hide, publish_internally, submit"
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor,Member,Reviewer,Site Administrator
Access contents information,N,N,Y,Y,Y,Y,Y,Y,N,Y
View,N,N,Y,Y,Y,Y,Y,Y,N,Y
Modify portal content,N,N,Y,Y,N,Y,N,N,N,Y
Change portal events,N,N,Y,Y,N,Y,N,N,N,Y

[State]
Id:,internally_published
Title:,Internally published
Description:,"Published and visible to intranet users, not editable by the owner."
Transitions,"reject, retract, publish_externally"
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor,Member,Reviewer,Site Administrator
Access contents information,N,N,Y,Y,Y,Y,Y,Y,N,Y
View,N,N,Y,Y,Y,Y,Y,Y,N,Y
Modify portal content,N,N,Y,N,N,N,N,N,N,Y
Change portal events,N,N,Y,N,N,N,N,N,N,Y

[State]
Id:,pending
Title:,Pending review
Description:,"Waiting to be reviewed, not editable by the owner."
Transitions,"publish_internally, publish_externally, reject, retract"
Worklist:,Reviewer tasks
Worklist label:,Pending (%(count)d)
Worklist guard permission:,Review portal content
Worklist guard role:,
Worklist guard expression:,
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor,Member,Reviewer,Site Administrator
Access contents information,N,N,Y,Y,Y,Y,Y,Y,Y,Y
View,N,N,Y,Y,Y,Y,Y,Y,Y,Y
Modify portal content,N,N,Y,N,N,N,N,N,Y,Y
Change portal events,N,N,Y,N,N,N,N,N,Y,Y

[State]
Id:,private
Title:,Private
Description:,Can only be seen and edited by the owner.
Transitions,show_internally
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor,Member,Reviewer,Site Administrator
Access contents information,N,N,Y,Y,Y,Y,Y,N,N,Y
View,N,N,Y,Y,Y,Y,Y,N,N,Y
Modify portal content,N,N,Y,Y,N,Y,N,N,N,Y
Change portal events,N,N,Y,Y,N,Y,N,N,N,Y

[Transition]
Id:,hide
Title:,Make private
Description:,Member makes content private
Details:,Making an item private means that it will not be visible to anyone but the owner and the site administrator.
Target state:,private
URL:,%(content_url)s/content_status_modify?workflow_action=hide
Trigger:,User
Guard permission:,Modify portal content

[Transition]
Id:,publish_externally
Title:,Publish externally
Description:,Reviewer makes content available externally
Details:,Publishing the item makes it visible to other users.
Target state:,external
URL:,%(content_url)s/content_status_modify?workflow_action=publish_externally
Trigger:,User
Guard permission:,Review portal content

[Transition]
Id:,publish_internally
Title:,Publish internally
Description:,Reviewer publishes content to internal users
Details:,Publishing the item makes it visible to other users.
Target state:,internally_published
URL:,%(content_url)s/content_status_modify?workflow_action=publish_internally
Trigger:,User
Guard permission:,Review portal content

[Transition]
Id:,reject
Title:,Send back
Description:,Send back
Details:,Sending the item back will return the item to the original author instead of publishing it. You should preferably include a reason for why it was not published.
Target state:,internal
URL:,%(content_url)s/content_status_modify?workflow_action=reject
Trigger:,User
Guard permission:,Review portal content

[Transition]
Id:,retract
Title:,Retract
Description:,Member retracts submission
Details:,"If you submitted the item by mistake or want to perform additional edits, this will take it back."
Target state:,internal
URL:,%(content_url)s/content_status_modify?workflow_action=retract
Trigger:,User
Guard permission:,Request review

[Transition]
Id:,show_internally
Title:,Show internally
Description:,Member promotes content to internal draft
Details:,Promotes your private item to an internal draft.
Target state:,internal
URL:,%(content_url)s/content_status_modify?workflow_action=show_internally
Trigger:,User
Guard permission:,Modify portal content

[Transition]
Id:,submit
Title:,Submit for publication
Description:,Submit for publication
Details:,"Puts your item in a review queue, so it can be published externally or internally."
Target state:,pending
URL:,%(content_url)s/content_status_modify?workflow_action=submit
Trigger:,User
Guard permission:,Request review

