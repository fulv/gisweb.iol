[Workflow]
Id:,ordinanze_workflow
Title:,Workflow ordinanze
Description:,
Initial state:,avvio
Type:,Workflow
State variable:,review_state

[State]
Id:,archiviata
Title:,
Description:,
Transitions,
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor

[State]
Id:,avvio
Title:,Ordinanza in fase di compilazione
Description:,Indicazioni....
Transitions,ordinanza_completata
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor

[State]
Id:,firmata
Title:,Ordinanza firmata in attesa di pubblicazione
Description:,
Transitions,pubblica
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor

[State]
Id:,ordinanza_ok
Title:,In attesa di firma
Description:,
Transitions,"firma, torna_avvio"
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor

[State]
Id:,pubblicata
Title:,Ordinanza pubblicata
Description:,
Transitions,archivia
Permissions,Acquire,Anonymous,Manager,Owner,Reader,Editor,Contributor

[Transition]
Id:,archivia
Title:,Archivia
Description:,
Details:,Per archiviare la pratica . Attenzione la pratica......
Target state:,archiviata
Trigger:,User
Script after:,after_archivia

[Transition]
Id:,firma
Title:,Autorizza
Description:,Firma
Target state:,firmata
Trigger:,User
Guard expression:,python: scripts.guard_autorizza(state_change)
Script after:,after_autorizza

[Transition]
Id:,ordinanza_completata
Title:,Verifica
Description:,Ordinanza completata
Details:,Se l'istruttoria è completata clicca su per passare alla fase di autorizzazione (IL SISTEMA VERIFICA CHE L'ISTRUTTORIA SIA COMPLETA)
Target state:,ordinanza_ok
Trigger:,User
Guard expression:,python: scripts.guard_istruttoria_ok(state_change)
Script after:,after_verifica_istruttoria

[Transition]
Id:,pubblica
Title:,Richiedi protocollo
Description:,Pubblica ordinanza
Details:,Attenzione la domanda non è stata protocollata correttamente.
Target state:,pubblicata
Trigger:,User
Guard expression:,python: scripts.guard_protocolla(state_change)
Script before:,before_protocolla
Script after:,after_protocolla

[Transition]
Id:,torna_avvio
Title:,Ritorna
Description:,Torna in compilazione
Details:,Se si desidera riportare la pratica in stato di istruttoria clicca su
Target state:,avvio
Trigger:,User
Guard expression:,python: scripts.guard_is_istruttore(state_change)
Script after:,after_torna_istruttoria
























